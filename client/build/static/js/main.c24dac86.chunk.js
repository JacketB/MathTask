(this.webpackJsonpmathtask=this.webpackJsonpmathtask||[]).push([[0],{150:function(e){e.exports=JSON.parse('{"search":"search...","author":"Author","changelang":"https://cdn.countryflags.com/thumbs/russia/flag-round-250.png","tasks":"Tasks","admin":"Admin panel","lasttasks":"Last tasks","mostrated":"Most rated tasks","username":"Username","average":"Average rating: ","checktask":"Check you answer","answerOK":"Decided!","answerError":"Try again!","rate":"Rate","navbar":{"link1":"Home","link2":"Profile"},"gohome":"To homepage","register":{"regspan":"Sing up","regpass":"Password","regbut":"Sing up","reglink":"or sing in"},"login":{"logspan":"Sing in","logpass":"Password","logbut":"Sing in","loglink":"or sing up"},"addtask":{"title":"Title","condition":"Task description","topic":"Task topic","taskbut":"Add new task","field":"Fill in the field","addAnswer":"Add answer to the task","warning":"Attention! All answers must be correct!","answer1":"Answer 1","answer2":"Answer 2","answer3":"Answer 3","create":"Create task"},"profile":{"task":"Task","urtask":"Your task","solved":"Solved tasks","taskname":"task name","raiting":"task raiting","newtask":"New task"},"taskpage":{"login":"Sing in to send a response to a task","created":"Task published - ","rate":"Rate task:","edit":"Edit","addcom":"Send"},"logout":"Logout"}')},151:function(e){e.exports=JSON.parse('{"search":"\u043f\u043e\u0438\u0441\u043a...","author":"\u0410\u0432\u0442\u043e\u0440","changelang":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/13/United-kingdom_flag_icon_round.svg/1200px-United-kingdom_flag_icon_round.svg.png","lasttasks":"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","tasks":"\u0417\u0430\u0434\u0430\u0447\u0438","admin":"\u041f\u0430\u043d\u0435\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430","mostrated":"\u0421\u0430\u043c\u044b\u0435 \u043e\u0446\u0435\u043d\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","username":"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f","average":"\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u043e\u0446\u0435\u043d\u043a\u0430 \u0437\u0430\u0434\u0430\u0447\u0438: ","checktask":"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442","answerOK":"\u0420\u0435\u0448\u0435\u043d\u043e!","answerError":"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437","rate":"\u041e\u0446\u0435\u043d\u0438\u0442\u044c","navbar":{"link1":"\u0413\u043b\u0430\u0432\u043d\u0430\u044f","link2":"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"},"gohome":"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e","register":{"regspan":"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c","regpass":"\u041f\u0430\u0440\u043e\u043b\u044c","regbut":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f","reglink":"\u0438\u043b\u0438 \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"},"login":{"logspan":"\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442","logpass":"\u041f\u0430\u0440\u043e\u043b\u044c","logbut":"\u0412\u0445\u043e\u0434","loglink":"\u0438\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"},"addtask":{"title":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","condition":"\u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","topic":"\u0422\u0435\u043c\u0430 \u0437\u0430\u0434\u0430\u0447\u0438","taskbut":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","field":"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435","addAnswer":"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043e\u0442\u0432\u0435\u0442\u044b \u043a \u0437\u0430\u0434\u0430\u0447\u0435","warning":"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0412\u0441\u0435 \u043e\u0442\u0432\u0435\u0442\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u043c\u0438!","answer1":"\u041e\u0442\u0432\u0435\u0442 1","answer2":"\u041e\u0442\u0432\u0435\u0442 2","answer3":"\u041e\u0442\u0432\u0435\u0442 3","create":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"},"profile":{"task":"Task","urtask":"\u0412\u0430\u0448\u0438 \u0437\u0430\u0434\u0430\u0447\u0438","taskname":"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","solved":"\u0420\u0435\u0448\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","raiting":"\u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u0437\u0430\u0434\u0430\u0447\u0438","newtask":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"},"taskpage":{"login":"\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442 \u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0443","created":"\u0417\u0430\u0434\u0430\u0447\u0430 \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u0430 - ","rate":"\u041e\u0446\u0435\u043d\u0438\u0442\u0435 \u0437\u0430\u0434\u0430\u0447\u0443:","edit":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","addcom":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"},"logout":"\u0412\u044b\u0439\u0442\u0438"}')},160:function(e,t,a){},324:function(e,t,a){},327:function(e,t,a){"use strict";a.r(t);var n,s=a(0),c=a.n(s),r=a(37),o=a.n(r),i=(a(160),a(6)),l=(a(161),a(52),a(63)),d=a(129),j={content:"#e0e0e0",body:"#fffff",comment:"#bbbbbb",fontColor:"black",but:"#5098eb"},b={content:"#292929",body:"#121212",comment:"#535353",fontColor:"white",but:"#bb86fc"},u=Object(l.b)(n||(n=Object(d.a)(["\np{\n  transition:1s;\n  color: ","\n}\n.reg{\n  transition:1s;\n  color: ","\n}\n.dropdown-content{\n  background-color:",";\n}\nbody{\n  transition:1s;\n  background-color:",";\n}\nbutton{\n  background-color:",";\n}\n.header,\n.content {\n  transition:1s;\n\t\tbackground-color: ",";\n    color: ","\n\t}\n.table{\n  color: ",";\n  border: ",";\n}\n.taskin{\n  background-color: ",";\n}\n.comment{\n  transition:1s;\n  background-color: ",";\n  color: ","\n}\n"])),(function(e){return e.theme.fontColor}),(function(e){return e.theme.fontColor}),(function(e){return e.theme.but}),(function(e){return e.theme.body}),(function(e){return e.theme.but}),(function(e){return e.theme.content}),(function(e){return e.theme.fontColor}),(function(e){return e.theme.fontColor}),(function(e){return e.theme.fontColor}),(function(e){return e.theme.body}),(function(e){return e.theme.comment}),(function(e){return e.theme.fontColor})),m=a(16),x=a(3),h=a(332),g=a(8),O=a(20),p=a(7),f=a(5),k=a.n(f),v=[],w=function(){return v},N=a(1),S=function(){var e=Object(s.useState)(""),t=Object(i.a)(e,1)[0],a=Object(s.useState)(!1),n=Object(i.a)(a,2),c=n[0],r=n[1];function o(e){e.preventDefault(),r(!0)}function l(e){e.preventDefault(),r(!1)}function d(e){e.preventDefault();var a=Object(p.a)(e.dataTransfer.files);t(a);var n=new FormData;a.forEach((function(e){n.append("image",e),k.a.post("https://api.imgbb.com/1/upload?key=ef809e6ad9bad4950ea87fe71e5f92a1",n).then((function(e){var t;t=e.data.data.url,v.push(t),console.log(w())}))})),r(!1)}return Object(N.jsxs)("div",{children:["\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f:",Object(N.jsx)("div",{className:"p-2 mb-3 mt-1 text-xl text-white w-80 bg-gray-500 rounded",children:c?Object(N.jsx)("div",{onDragStart:function(e){return o(e)},onDragLeave:function(e){return l(e)},onDragOver:function(e){return o(e)},onDrop:function(e){return d(e)},children:"\u041e\u0442\u043f\u0443\u0442\u0441\u0442\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440"}):Object(N.jsx)("div",{onDragStart:function(e){return o(e)},onDragLeave:function(e){return l(e)},onDragOver:function(e){return o(e)},children:"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0438\u0442\u0435 \u043e\u0434\u0438\u043d \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0444\u0430\u0439\u043b\u043e\u0432 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438"})})]})},C="https://mathtask.herokuapp.com",y=[{dataField:"title",headerStyle:{backgroundColor:"#7a7a7a",sort:!0}},{dataField:"taskTopic",headerStyle:{backgroundColor:"#7a7a7a"}},{dataField:"username",headerStyle:{backgroundColor:"#7a7a7a"}},{dataField:"average",headerStyle:{backgroundColor:"#7a7a7a"}}],T=[{dataField:"id",text:"Id"},{dataField:"email",text:"Email"},{dataField:"username",text:"Username"}],I=["\u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430","JavaScript","\u0424\u0438\u0437\u0438\u043a\u0430","C#","Node.JS"],F=(a(33),function(){var e=Object(x.f)(),t=Object(h.a)().t;return Object(N.jsxs)("div",{className:"nav p-3 shadow-lg   border-b-2 border-gray-500 flex justify-between",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("span",{className:"nav-item py-3",children:Object(N.jsx)(m.b,{className:"hover:text-white",to:"/",children:t("navbar.link1")})}),Object(N.jsx)("span",{className:"nav-item py-3",children:Object(N.jsx)(m.b,{className:"hover:text-white ",to:"/allTasks",children:t("tasks")})}),0!==localStorage.getItem("role")?Object(N.jsx)("span",{className:"nav-item py-3",children:Object(N.jsx)(m.b,{to:"/admin",className:"hover:text-white",children:t("admin")})}):Object(N.jsx)(N.Fragment,{}),localStorage.getItem("accessToken")?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{className:"nav-item py-3",children:Object(N.jsx)("span",{className:"hover:text-white cursor-pointer",onClick:function(){e.push("/profile/".concat(localStorage.getItem("userId")))},children:t("navbar.link2")})}),Object(N.jsx)("span",{className:"nav-item py-3",children:Object(N.jsx)(m.b,{className:"hover:text-white cursor-pointer",to:"/login",onClick:function(){localStorage.removeItem("accessToken"),localStorage.removeItem("userId"),localStorage.removeItem("username")},children:t("logout")})})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{className:"nav-item py-3",children:Object(N.jsx)(m.b,{className:"hover:text-white",to:"/login",children:t("login.logspan")})}),Object(N.jsx)("span",{className:"nav-item py-3",children:Object(N.jsx)(m.b,{className:"hover:text-white",to:"/register",children:t("register.regspan")})})]})]}),Object(N.jsx)("div",{className:"inline px-6",children:localStorage.getItem("username")})]})});function E(){var e=Object(x.f)(),t=Object(h.a)().t;localStorage.getItem("accessToken")||e.push("/login");var a=O.a().shape({title:O.b().required(t("addtask.field")),taskTopic:O.b().required(t("addtask.field")),taskCondition:O.b().required(t("addtask.field")),answer1:O.b().required(t("addtask.field"))});return Object(N.jsxs)("div",{className:"content",children:[Object(N.jsx)(F,{}),Object(N.jsxs)("div",{className:"p-3 object-none object-center ",children:[Object(N.jsx)("div",{children:Object(N.jsx)("h2",{className:"text-3xl reg",children:t("profile.newtask")})}),Object(N.jsx)("div",{className:"",children:Object(N.jsx)(g.d,{initialValues:{title:"",taskTopic:"",taskCondition:"",answer1:"",answer2:"",answer3:""},onSubmit:function(t){t.image1=w()[0],t.image2=w()[1],t.image3=w()[2],k.a.post("".concat(C,"/tasks"),t,{headers:{accessToken:localStorage.getItem("accessToken")}}).then((function(){e.push("/")}))},validationSchema:a,children:Object(N.jsxs)(g.c,{id:"addTask",children:[Object(N.jsxs)("div",{className:"grid grid-cols-3 mt-2 mx-10",children:[Object(N.jsx)("div",{className:"text-xl reg ",children:t("addtask.title")}),Object(N.jsx)("div",{className:"text-xl reg ",children:t("addtask.topic")}),Object(N.jsx)("div",{children:"\u0421\u0432\u043e\u044f \u0442\u0435\u043c\u0430"}),Object(N.jsxs)("div",{className:"mb-2 w-full ",children:[Object(N.jsx)(g.a,{name:"title",component:"div",className:"text-red-700"}),Object(N.jsx)(g.b,{id:"inputCreateTask",name:"title",className:"p-1 text-black w-1/2 border-1 border-indigo-500 rounded"})]}),Object(N.jsxs)("div",{className:"mb-2 ",children:[Object(N.jsx)(g.a,{name:"taskTopic",component:"div",className:"text-red-700"}),Object(N.jsx)(g.b,{as:"select",name:"taskTopic",className:"p-1 text-black w-1/2 border-1 border-indigo-500 rounded",children:I.map((function(e){return Object(N.jsx)("option",{className:"text-black",value:e,children:e})}))})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)(g.a,{name:"taskTopic",component:"div",className:"text-red-700"}),Object(N.jsx)(g.b,{name:"taskTopic",className:"p-1 text-black w-1/2 border-1 border-indigo-500 rounded"})]})]}),Object(N.jsxs)("div",{className:" mx-10",children:[Object(N.jsx)("div",{className:"text-xl reg",children:t("addtask.condition")}),Object(N.jsx)(g.a,{name:"taskCondition",component:"div",className:"text-red-700"}),Object(N.jsx)(g.b,{as:"textarea",id:"inputCreateTask",name:"taskCondition",className:"p-1 text-black h-28 w-full border-1 border-indigo-500 rounded"})]}),Object(N.jsxs)("div",{className:"mb-3 mx-10",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("h4",{className:"reg",children:t("addtask.addAnswer")}),Object(N.jsx)("h5",{className:"reg",children:t("addtask.warning")})]}),Object(N.jsx)("p",{children:t("addtask.answer1")}),Object(N.jsx)(g.a,{name:"answer1",component:"div",className:"text-red-700"}),Object(N.jsx)(g.b,{as:"textarea",id:"inputCreateTask",name:"answer1",className:"p-1 text-black h-28 w-full border-1 border-indigo-500 rounded"}),Object(N.jsx)("div",{}),Object(N.jsx)("p",{children:t("addtask.answer2")}),Object(N.jsx)(g.b,{as:"textarea",id:"inputCreateTask",name:"answer2",className:"p-1 text-black h-28 w-full border-1 border-indigo-500 rounded"}),Object(N.jsx)("div",{}),Object(N.jsx)("p",{children:t("addtask.answer3")}),Object(N.jsx)(g.b,{as:"textarea",id:"inputCreateTask",name:"answer3",className:"p-1 text-black h-28 w-full border-1 border-indigo-500 rounded"})]}),Object(N.jsxs)("div",{className:"mx-10",children:[Object(N.jsx)(S,{}),Object(N.jsx)("button",{type:"submit",className:"text-white py-2 px-6 rounded-lg",children:t("addtask.create")})]})]})})})]})]})}var A=Object(s.createContext)("");function L(){var e=Object(s.useContext)(A).tasksState,t=Object(h.a)().t,a=Object(s.useState)(""),n=Object(i.a)(a,2),c=n[0],r=n[1],o=Object(x.f)();return Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"flex justify-center ",children:Object(N.jsx)("input",{className:"w-1/2 border h-5 px-3 py-3 mt-2 hover:outline-none focus:outline-none focus:ring-1 focus:ring-indigo-600 rounded-md text-black",placeholder:t("search"),type:"text",onChange:function(e){r(e.target.value)}})}),e.filter((function(e){return""===c||e.taskCondition.toLowerCase().includes(c.toLowerCase())||e.title.toLowerCase().includes(c.toLowerCase())||e.taskTopic.toLowerCase().includes(c.toLowerCase())?e:void 0})).map((function(e){return Object(N.jsxs)("div",{className:"task p-2 border-2 border-gray-500 rounded m-3",onClick:function(){o.push("/task/".concat(e.id))},children:[Object(N.jsxs)("div",{className:"",children:[" ",e.title," "]}),Object(N.jsx)("div",{className:"",children:e.taskTopic}),Object(N.jsx)("div",{className:"",children:e.username})]})}))]})}function D(){return Object(N.jsxs)("div",{className:"content pb-5",children:[Object(N.jsx)(F,{}),Object(N.jsx)(L,{})]})}var q=a(28),U=a.n(q);function J(){var e=Object(h.a)().t,t=Object(s.useContext)(A).tasksState,a=Object(x.f)(),n={onClick:function(e,t,n){a.push("/task/".concat(t.id))}};return Object(N.jsxs)("div",{className:"p-8",children:[Object(N.jsx)("h2",{className:"mb-3",children:e("lasttasks")}),Object(N.jsx)(U.a,{keyField:"id",data:t.slice(-5),columns:y,rowEvents:n,className:"table"})]})}function P(){var e=Object(h.a)().t,t=Object(s.useContext)(A).tasksState;var a,n=Object(x.f)(),c={onClick:function(e,t,a){n.push("/task/".concat(t.id))}};return Object(N.jsxs)("div",{className:"p-8",children:[Object(N.jsx)("h2",{className:"mb-3",children:e("mostrated")}),Object(N.jsx)(U.a,{keyField:"id",data:t.sort((a="average",function(e,t){return e[a]>t[a]?1:-1})).reverse().slice(-5),columns:y,rowEvents:c})]})}var _=function(){return Object(N.jsx)("div",{children:Object(N.jsxs)("div",{className:"content",children:[Object(N.jsx)(F,{}),Object(N.jsx)(J,{}),Object(N.jsx)(P,{})]})})},B=Object(s.createContext)(""),V=function(){var e=Object(h.a)().t,t=Object(s.useState)(),a=Object(i.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)(),o=Object(i.a)(r,2),l=o[0],d=o[1],j=Object(s.useContext)(B).setAuthState,b=Object(x.f)();return Object(N.jsxs)("div",{className:"  login bg-right bg-no-repeat",children:[Object(N.jsx)("div",{className:"reg ",children:Object(N.jsx)(m.b,{to:"/",className:"p-2 rounded-xl hover:bg-gray-300",children:e("gohome")})}),Object(N.jsx)("div",{className:" min-h-screen text-gray-800 antialiased px-4 py-6 flex flex-col sm:py-12 ",children:Object(N.jsxs)("div",{className:"relative py-3 sm:max-w-xl  text-center",children:[Object(N.jsx)("span",{className:"text-2xl font-light reg",children:e("login.logspan")}),Object(N.jsx)("div",{className:"relative mt-4 bg-white shadow-md sm:rounded-lg text-left",children:Object(N.jsxs)("div",{className:"py-6 px-8",children:[Object(N.jsx)("label",{className:"block font-semibold",children:e("username")}),Object(N.jsx)("input",{type:"text",placeholder:"Username",onChange:function(e){c(e.target.value)},className:" border w-full h-5 px-3 py-3 mt-2 hover:outline-none focus:outline-none focus:ring-1 focus:ring-indigo-600 rounded-md "}),Object(N.jsx)("label",{className:"block mt-3 font-semibold",children:e("login.logpass")}),Object(N.jsx)("input",{type:"password",placeholder:"Password",onChange:function(e){d(e.target.value)},className:" border w-full h-5 px-3 py-3 mt-2 hover:outline-none focus:outline-none focus:ring-1 focus:ring-indigo-600 rounded-md "}),Object(N.jsxs)("div",{className:"flex justify-between items-baseline",children:[Object(N.jsx)("button",{onClick:function(){var e={username:n,password:l};k.a.post("".concat(C,"/auth/login"),e).then((function(e){console.log(e.data),e.data.error?alert(e.data.error):(localStorage.setItem("accessToken",e.data.token),localStorage.setItem("userId",e.data.id),localStorage.setItem("username",e.data.username),localStorage.setItem("role",e.data.role),j({username:e.data.username,id:e.data.id,status:!0}),b.push("/"))}))},className:"mt-4 bg-indigo-500 text-white py-2 px-6 rounded-lg",children:e("login.logbut")}),Object(N.jsx)(m.b,{className:"px-3 text-sm hover:underline",to:"/register",children:e("login.loglink")})]})]})})]})})]})};a(128);function K(e){var t=Object(h.a)().t,a=Object(x.f)(),n=Object(s.useState)([]),c=Object(i.a)(n,2),r=c[0],o=c[1];Object(s.useEffect)((function(){k.a.get("".concat(C,"/tasks/byuserId/").concat(e.userid)).then((function(e){o(e.data)}))}),[]);var l={onClick:function(e,t,n){a.push("/task/".concat(t.id))}};return Object(N.jsxs)("div",{children:[Object(N.jsx)("h3",{className:"mb-2",children:t("profile.urtask")}),Object(N.jsx)(U.a,{keyField:"id",data:r,columns:y,rowEvents:l})]})}var R=Object(s.createContext)("");function G(){for(var e=Object(h.a)().t,t=Object(x.f)(),a=Object(s.useContext)(A).tasksState,n=Object(s.useContext)(R).solvedState,c=[],r=0;r<n.length;r++)for(var o=0;o<a.length;o++)n[r].taskid===a[o].id&&c.push(a[o]);var i={onClick:function(e,a,n){t.push("/task/".concat(a.id))}};return Object(N.jsxs)("div",{children:[Object(N.jsx)("h3",{className:"mb-2",children:e("profile.solved")}),Object(N.jsx)(U.a,{keyField:"id",data:c,columns:y,rowEvents:i})]})}var M=function(){var e=Object(s.useContext)(R).setSolvedState;Object(s.useEffect)((function(){k.a.get("".concat(C,"/solved/byUserId"),{headers:{accessToken:localStorage.getItem("accessToken")}}).then((function(t){e(t.data)}))}),[]);var t=Object(x.f)(),a=Object(h.a)().t,n=Object(x.g)().id;return Object(N.jsxs)("div",{className:"content",children:[Object(N.jsx)(F,{}),Object(N.jsx)("div",{}),Object(N.jsxs)("div",{className:"m-3",children:[Object(N.jsxs)("div",{className:"comp",children:[Object(N.jsx)("div",{children:Object(N.jsx)(K,{userid:n})}),Object(N.jsx)("div",{children:Object(N.jsx)(G,{})})]}),Object(N.jsx)("div",{children:Object(N.jsx)("button",{className:"text-white mx-2 mb-10 p-2 px-6 rounded-lg",onClick:function(){return t.push("/add")},children:a("profile.newtask")})})]})]})};function Y(){var e=Object(x.f)(),t=Object(h.a)().t,a=Object(x.g)(),n=Object(s.useState)({}),c=Object(i.a)(n,2),r=c[0],o=c[1],l={title:"",taskTopic:"",taskCondition:"",answer1:"",answer2:"",answer3:"",id:"".concat(a.id)};Object(s.useEffect)((function(){k.a.get("".concat(C,"/tasks/byId/").concat(a.id)).then((function(e){o(e.data)}))}),[]);var d=O.a().shape({title:O.b().required("You must input a Title!"),taskTopic:O.b().required(),taskCondition:O.b().required()});return Object(N.jsxs)("div",{className:"content pb-3  ",children:[Object(N.jsx)(F,{}),Object(N.jsx)("button",{onClick:function(){return function(t){k.a.delete("".concat(C,"/tasks/").concat(t),{headers:{accessToken:localStorage.getItem("accessToken")}}),e.push("/")}(a.id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"}),Object(N.jsx)(g.d,{initialValues:l,onSubmit:function(t){k.a.put("".concat(C,"/tasks/updated"),{newTitle:t.title,newTopic:t.taskTopic,newCondition:t.taskCondition,id:a},{headers:{accessToken:localStorage.getItem("accessToken")}}).then((function(t){e.push("/")}))},validationSchema:d,children:Object(N.jsxs)(g.c,{id:"updateTask",className:"px-2",children:[Object(N.jsxs)("div",{className:"grid grid-cols-3 mt-2 mx-10",children:[Object(N.jsx)("div",{className:"text-xl reg ",children:t("addtask.title")}),Object(N.jsx)("div",{className:"text-xl reg col-span-2",children:t("addtask.topic")}),Object(N.jsxs)("div",{className:"mb-2 w-full ",children:[Object(N.jsx)(g.a,{name:"title",component:"div",className:"text-red-700"}),Object(N.jsx)(g.b,{id:"inputCreateTask",name:"title",placeholder:r.title,className:"p-1 text-black w-1/2 border-1 border-indigo-500 rounded"})]}),Object(N.jsxs)("div",{className:"mb-2 ",children:[Object(N.jsx)(g.a,{name:"taskTopic",component:"div",className:"text-red-700"}),Object(N.jsx)(g.b,{id:"inputCreateTask",name:"taskTopic",placeholder:r.taskTopic,className:"p-1 text-black w-1/2 border-1 border-indigo-500 rounded"})]})]}),Object(N.jsxs)("div",{className:" mx-10",children:[Object(N.jsx)("div",{className:"text-xl reg",children:t("addtask.condition")}),Object(N.jsx)(g.a,{name:"taskCondition",component:"div",className:"text-red-700"}),Object(N.jsx)(g.b,{as:"textarea",id:"inputCreateTask",name:"taskCondition",placeholder:r.taskCondition,className:"p-1 text-black h-28 w-full border-1 border-indigo-500 rounded"})]}),Object(N.jsxs)("div",{className:"mb-3 mx-10",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("h4",{className:"reg",children:t("addtask.addAnswer")}),Object(N.jsx)("h5",{className:"reg",children:t("addtask.warning")})]}),Object(N.jsx)("p",{children:t("addtask.answer1")}),Object(N.jsx)(g.a,{name:"answer1",component:"div",className:"text-red-700"}),Object(N.jsx)(g.b,{as:"textarea",id:"inputCreateTask",name:"answer1",className:"p-1 text-black h-28 w-full border-1 border-indigo-500 rounded"}),Object(N.jsx)("div",{}),Object(N.jsx)("p",{children:t("addtask.answer2")}),Object(N.jsx)(g.b,{as:"textarea",id:"inputCreateTask",name:"answer2",className:"p-1 text-black h-28 w-full border-1 border-indigo-500 rounded"}),Object(N.jsx)("div",{}),Object(N.jsx)("p",{children:t("addtask.answer3")}),Object(N.jsx)(g.b,{as:"textarea",id:"inputCreateTask",name:"answer3",className:"p-1 text-black h-28 w-full border-1 border-indigo-500 rounded"})]}),Object(N.jsxs)("div",{className:"mx-10",children:[Object(N.jsx)(S,{}),Object(N.jsx)("button",{type:"submit",className:"text-white py-2 px-6 rounded-lg",children:t("addtask.create")})]})]})})]})}var H=a(152),z=(a(324),a(43));function Q(){var e=Object(h.a)().t,t=Object(s.useState)(),a=Object(i.a)(t,2),n=a[0],c=a[1],r=Object(s.useContext)(A).setTasksState,o=Object(x.g)(),l=function(){k.a.post("".concat(C,"/rate/byId/").concat(o.id,"/grade/").concat(n),n,{headers:{accessToken:localStorage.getItem("accessToken")}}).then((function(){k.a.get("".concat(C,"/rate/").concat(o.id)).then((function(e){var t=e.data,a=0;t.forEach((function(e){a+=e.taskGrade})),a+=n,a/=(t.length+1).toFixed(1),k.a.put("".concat(C,"/tasks/average/").concat(o.id,"/").concat(a),{average:a}).then((function(){k.a.get("".concat(C,"/tasks")).then((function(e){window.location.reload(),r(e.data.listOfTasks)}))}))}))}))};return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{class:"star-rating",children:[Object(N.jsx)("input",{type:"radio",id:"5-stars",name:"rating",value:"5",onClick:function(){return c(5)}}),Object(N.jsx)("label",{for:"5-stars",class:"star",children:"\u2605"}),Object(N.jsx)("input",{onClick:function(){return c(4)},type:"radio",id:"4-stars",name:"rating",value:"4"}),Object(N.jsx)("label",{for:"4-stars",class:"star",children:"\u2605"}),Object(N.jsx)("input",{onClick:function(){return c(3)},type:"radio",id:"3-stars",name:"rating",value:"3"}),Object(N.jsx)("label",{for:"3-stars",class:"star",children:"\u2605"}),Object(N.jsx)("input",{onClick:function(){return c(2)},type:"radio",id:"2-stars",name:"rating",value:"2"}),Object(N.jsx)("label",{for:"2-stars",class:"star",children:"\u2605"}),Object(N.jsx)("input",{onClick:function(){return c(1)},type:"radio",id:"1-star",name:"rating",value:"1"}),Object(N.jsx)("label",{for:"1-star",class:"star",children:"\u2605"})]}),Object(N.jsx)("button",{onClick:function(){z.b.success("\u0432\u0430\u0448\u0430 \u043e\u0446\u0435\u043d\u043a\u0430 - "+n),l()},className:"text-white py-2 px-6 rounded-lg",children:e("rate")})]})}function W(e){var t=Object(h.a)().t,a=Object(s.useContext)(R).setSolvedState,n=Object(s.useState)(),c=Object(i.a)(n,2),r=c[0],o=c[1],l=function(t){k.a.post("".concat(C,"/solved/byId/").concat(e.id),t,{headers:{accessToken:localStorage.getItem("accessToken")}}).then((function(e){k.a.get("".concat(C,"/solved/byUserId"),{headers:{accessToken:localStorage.getItem("accessToken")}}).then((function(e){a(e.data)}))}))};return Object(N.jsxs)("div",{children:[Object(N.jsx)("textarea",{className:"p-2 rounded w-2/5 h-2/5 mt-2 text-black",type:"text",id:"answer",onChange:function(e){return o(e.target.value)}}),Object(N.jsx)("br",{}),Object(N.jsx)("button",{onClick:function(){r===e.answer1||r===e.answer2||r===e.answer3?(z.b.success(t("answerOK")),l(r)):z.b.error(t("answerError"))},className:"text-white py-2 px-6 rounded-lg mt-2",children:t("checktask")})]})}function X(e){var t=Object(h.a)().t;return Object(N.jsxs)("div",{children:[Object(N.jsx)("span",{children:t("average")}),e.ratings," \u2b50"]})}var Z=a(142);function $(e){var t=Object(s.useState)(0),a=Object(i.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)(!1),o=Object(i.a)(r,2),l=o[0],d=o[1],j=[e.img1,e.img2,e.img3],b=Object(s.useCallback)((function(e){c(e),d(!0)}),[]),u=function(){c(0),d(!1)};return Object(N.jsx)("div",{children:Object(N.jsxs)("div",{children:[j.map((function(e,t){if(null!=e)return Object(N.jsx)("img",{src:e,onClick:function(){return b(t)},width:"150",style:{margin:"2px"},alt:""},t)})),l&&Object(N.jsx)(Z.a,{src:j,currentIndex:n,disableScroll:!1,closeOnClickOutside:!0,onClose:u})]})})}function ee(){var e=Object(h.a)().t,t=Object(s.useState)([]),a=Object(i.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)({}),o=Object(i.a)(r,2),l=o[0],d=o[1],j=Object(s.useState)(""),b=Object(i.a)(j,2),u=b[0],m=b[1],g=Object(s.useState)([]),O=Object(i.a)(g,2),f=O[0],v=O[1];Object(s.useEffect)((function(){k.a.get("".concat(C,"/tasks/byId/").concat(w)).then((function(e){d(e.data)})),k.a.get("".concat(C,"/comments/").concat(w)).then((function(e){c(e.data)})),k.a.get("".concat(C,"/rate/").concat(w)).then((function(e){v(e.data)}))}),[]);var w=Object(x.g)().id,S=Object(x.f)();return Object(N.jsxs)("div",{className:"content pb-3",children:[Object(N.jsx)(F,{}),Object(N.jsxs)("div",{className:"pt-1 px-2",children:[Object(N.jsx)("span",{className:"text-3xl",children:l.title}),Object(N.jsxs)("div",{className:"mt-2",children:[Object(N.jsx)(H.a,{className:"rounded w-2/3 p-2 mb-2",children:l.taskCondition}),Object(N.jsx)($,{img1:l.image1,img2:l.image2,img3:l.image3}),Object(N.jsx)(X,{ratings:l.average}),localStorage.getItem("accessToken")?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(W,{id:l.id,answer1:l.answer1,answer2:l.answer2,answer3:l.answer3}),Object(N.jsx)("div",{className:"mb-3",children:Object(N.jsx)("span",{children:e("taskpage.rate")})}),Object(N.jsx)(Q,{ratings:f})]}):Object(N.jsx)("h4",{children:e("taskpage.login")}),Object(N.jsxs)("span",{className:"text-sm",children:["Created ",Object(N.jsx)("p",{children:l.createdAt}),e("author")," : ",l.username]}),localStorage.getItem("username")===l.username||1!==localStorage.getItem("role")?Object(N.jsx)("div",{children:Object(N.jsx)("button",{className:"text-white py-2 px-6 rounded-lg",onClick:function(){S.push("/update/".concat(w))},children:e("taskpage.edit")})}):Object(N.jsx)(N.Fragment,{})]}),Object(N.jsx)("hr",{className:"my-3"}),localStorage.getItem("accessToken")?Object(N.jsx)("div",{children:Object(N.jsxs)("div",{className:"flex items-start",children:[Object(N.jsx)("textarea",{cols:"200",rows:"5",className:"text-black min-h-full rounded w-full",type:"text",autoComplete:"off",value:u,onChange:function(e){m(e.target.value)}}),Object(N.jsx)("button",{id:"btn",className:"mx-2 p-2 rounded text-white",onClick:function(){k.a.post("".concat(C,"/comments"),{commentBody:u,TaskId:w},{headers:{accessToken:localStorage.getItem("accessToken")}}).then((function(e){if(e.data.error)alert(e.data.error);else{var t={commentBody:u,username:e.data.username};c([].concat(Object(p.a)(n),[t])),m("")}}))},children:e("taskpage.addcom")})]})}):Object(N.jsx)(N.Fragment,{}),Object(N.jsx)("div",{className:"",children:n.map((function(e,t){return Object(N.jsxs)("div",{className:"p-2 bg-gray-700 my-2.5 w-5/6 rounded comment",children:[Object(N.jsxs)("div",{className:"underline font-bold",children:[e.username,0!==localStorage.getItem.role?Object(N.jsx)(N.Fragment,{children:"- admin"}):Object(N.jsx)(N.Fragment,{})]}),e.commentBody]})}))})]})]})}function te(){var e=Object(x.f)(),t=Object(s.useState)([]),a=Object(i.a)(t,2),n=a[0],c=a[1];localStorage.getItem("accessToken")||e.push("/login"),Object(s.useEffect)((function(){k.a.get("".concat(C,"/list/list")).then((function(e){c(e.data.listOfUsers)}))}),[]);var r={onClick:function(t,a,n){e.push("/profile/".concat(a.id))}};return Object(N.jsxs)("div",{className:"content",children:[Object(N.jsx)(F,{}),Object(N.jsx)("div",{className:"p-3",children:Object(N.jsx)(U.a,{keyField:"id",data:n,columns:T,rowEvents:r})})]})}var ae=a(147),ne=a.n(ae);function se(){var e=Object(s.useContext)(B).setAuthState,t=Object(x.f)(),a=function(a){var n={username:a.name,password:a.id,email:a.email,role:0};k.a.post("".concat(C,"/auth"),n).then((function(){k.a.post("".concat(C,"/auth/login"),n).then((function(a){a.data.error?alert(a.data.error):(localStorage.setItem("accessToken",a.data.token),localStorage.setItem("userId",a.data.id),localStorage.setItem("username",a.data.username),localStorage.setItem("role",a.data.role),e({username:a.data.username,id:a.data.id,status:!0}),t.push("/"))}))}))};return Object(N.jsx)(ne.a,{appId:"387334999406825",autoLoad:!1,fields:"name,email",callback:function(e){a(e)},cssClass:"p-2 w-46 rounded-md text-white bg-indigo-500"})}var ce=a(148),re=a.n(ce);function oe(){var e=Object(s.useContext)(B).setAuthState,t=Object(x.f)(),a=function(e){console.log(e),n(e)},n=function(a){var n={username:a.it.Re,email:a.it.Tt,password:a.it.sT,role:0};k.a.post("".concat(C,"/auth"),n).then((function(){k.a.post("".concat(C,"/auth/login"),n).then((function(a){a.data.error?alert(a.data.error):(localStorage.setItem("accessToken",a.data.token),localStorage.setItem("userId",a.data.id),localStorage.setItem("username",a.data.username),localStorage.setItem("role",a.data.role),e({username:a.data.username,id:a.data.id,status:!0}),t.push("/"))}))}))};return Object(N.jsx)("div",{children:Object(N.jsx)(re.a,{clientId:"491733085744-kgfk2529a557qgpebuhrnkgn0svb8p1i.apps.googleusercontent.com",render:function(e){return Object(N.jsx)("button",{className:"p-2 w-46 rounded-md text-white bg-indigo-500",onClick:e.onClick,disabled:e.disabled,children:"Login with Google"})},onSuccess:a,onFailure:a,cookiePolicy:"single_host_origin"})})}function ie(){return Object(N.jsxs)("div",{className:"mt-3 flex space-x-5 justify-center",children:[Object(N.jsx)(se,{}),Object(N.jsx)(oe,{})]})}var le=function(){var e=Object(h.a)().t,t=(Object(s.useContext)(B).setAuthState,Object(x.f)()),a=O.a({username:O.b().required(),email:O.b().required(),password:O.b().required()});return Object(N.jsxs)("div",{className:"login bg-right bg-no-repeat",children:[Object(N.jsx)("div",{className:"reg",children:Object(N.jsx)(m.b,{to:"/",className:"p-2 rounded-xl hover:bg-gray-300",children:e("gohome")})}),Object(N.jsx)("div",{className:"min-h-screen text-gray-800 antialiased px-4 py-6 sm:py-12",children:Object(N.jsx)(g.d,{initialValues:{username:"",email:"",password:""},onSubmit:function(e){e.role=0,k.a.post("".concat(C,"/auth"),e).then((function(e){e.data.error?alert(e.data.error):t.push("/login")}))},validationSchema:a,children:Object(N.jsx)(g.c,{children:Object(N.jsxs)("div",{className:"relative py-3 sm:max-w-xl text-center",children:[Object(N.jsx)("span",{className:"text-2xl font-light reg",children:e("register.regspan")}),Object(N.jsx)("div",{className:"relative mt-4 bg-white shadow-md sm:rounded-lg text-left",children:Object(N.jsxs)("div",{className:"py-6 px-8",children:[Object(N.jsx)("label",{className:"block font-semibold",children:"Email"}),Object(N.jsx)(g.a,{name:"email",component:"div",className:"text-red-700"}),Object(N.jsx)(g.b,{name:"email",className:" border w-full h-5 px-3 py-3 mt-2 hover:outline-none focus:outline-none focus:ring-1 focus:ring-indigo-600 rounded-md"}),Object(N.jsx)("label",{className:"block font-semibold",children:e("username")}),Object(N.jsx)(g.a,{name:"username",component:"div",className:"text-red-700"}),Object(N.jsx)(g.b,{name:"username",className:" border w-full h-5 px-3 py-3 mt-2 hover:outline-none focus:outline-none focus:ring-1 focus:ring-indigo-600 rounded-md"}),Object(N.jsx)("label",{className:"block mt-3 font-semibold",children:e("register.regpass")}),Object(N.jsx)(g.a,{name:"password",component:"div",className:"text-red-700"}),Object(N.jsx)(g.b,{name:"password",className:" border w-full h-5 px-3 py-3 mt-2 hover:outline-none focus:outline-none focus:ring-1 focus:ring-indigo-600 rounded-md"}),Object(N.jsxs)("div",{className:"flex justify-between items-baseline",children:[Object(N.jsx)("button",{type:"submit",className:"mt-4 bg-indigo-500 text-white py-2 px-6 rounded-lg",children:e("register.regbut")}),Object(N.jsx)(m.b,{to:"/login",className:"px-3 text-sm hover:underline",children:e("register.reglink")})]}),Object(N.jsx)(ie,{})]})})]})})})})]})};function de(){return Object(N.jsx)(m.a,{children:Object(N.jsxs)(x.c,{children:[Object(N.jsx)(x.a,{path:"/",exact:!0,component:_}),Object(N.jsx)(x.a,{path:"/profile/:id",component:M}),Object(N.jsx)(x.a,{path:"/task/:id",component:ee}),Object(N.jsx)(x.a,{path:"/update/:id",component:Y}),Object(N.jsx)(x.a,{path:"/login",component:V}),Object(N.jsx)(x.a,{path:"/register",component:le}),Object(N.jsx)(x.a,{path:"/add",component:E}),Object(N.jsx)(x.a,{path:"/admin",component:te}),Object(N.jsx)(x.a,{path:"/allTasks",component:D})]})})}function je(){var e=Object(h.a)(),t=e.t,a=e.i18n,n=function(e){return localStorage.setItem("lang",JSON.stringify(a.language)),function(){a.changeLanguage(e)}};return Object(N.jsx)("div",{className:"dropdown mx-3",children:Object(N.jsx)("img",{src:t("changelang"),alt:"1",width:"40px",onClick:"ru"===a.language?n("en"):n("ru")})})}var be=function(e){var t=e.theme,a=e.toggleTheme,n="light"===t?"\ud83c\udf1a":"\ud83c\udf1e";return Object(N.jsx)("button",{className:"bg-transparent rounded-lg toogler text-4xl",onClick:a,children:n})};function ue(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(z.a,{toastOptions:{success:{duration:3e3,style:{background:"#9bc995",color:"white",width:"50%",height:"50px"}},error:{duration:3e3,style:{background:"#C84153",color:"white",width:"50%",height:"50px"}}}})})}var me=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)([]),r=Object(i.a)(c,2),o=r[0],d=r[1],m=Object(s.useState)([]),x=Object(i.a)(m,2),h=x[0],g=x[1],O=function(){var e=Object(s.useState)("light"),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(!1),r=Object(i.a)(c,2),o=r[0],l=r[1],d=function(e){window.localStorage.setItem("theme",e),n(e)};return Object(s.useEffect)((function(){var e=window.localStorage.getItem("theme");e&&n(e),l(!0)}),[]),[a,function(){d("light"===a?"dark":"light")},o]}(),p=Object(i.a)(O,3),f=p[0],v=p[1],w=p[2];Object(s.useEffect)((function(){k.a.get("".concat(C,"/tasks")).then((function(e){d(e.data.listOfTasks)})),k.a.get("".concat(C,"/solved/byUserId"),{headers:{accessToken:localStorage.getItem("accessToken")}}).then((function(e){g(e.data)}))}),[]);var S="light"===f?j:b;return w?Object(N.jsx)(R.Provider,{value:{solvedState:h,setSolvedState:g},children:Object(N.jsx)(B.Provider,{value:{authState:a,setAuthState:n},children:Object(N.jsx)(A.Provider,{value:{tasksState:o,setTasksState:d},children:Object(N.jsxs)(l.a,{theme:S,children:[Object(N.jsx)(u,{}),Object(N.jsxs)("div",{className:"app min-h-screen bg-bottom bg-no-repeat",children:[Object(N.jsxs)("div",{className:"header m-3 p-2 flex ",children:[Object(N.jsx)(be,{theme:f,toggleTheme:v}),Object(N.jsx)(je,{})]}),Object(N.jsxs)("div",{className:"wrapper m-3",children:[Object(N.jsx)(ue,{}),Object(N.jsx)(de,{})]})]})]})})})}):Object(N.jsx)("div",{})},xe=a(90),he=a(51),ge=a(150),Oe=a(151),pe="lang"in localStorage,fe=JSON.parse(localStorage.getItem("lang")),ke=pe?fe:"ru",ve={en:{translation:ge},ru:{translation:Oe}};xe.a.use(he.e).init({resources:ve,lng:ke,keyseparator:!1,interpolation:{escapeValue:!1}});xe.a;o.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(me,{})}),document.getElementById("root"))},33:function(e,t,a){},52:function(e,t,a){}},[[327,1,2]]]);
//# sourceMappingURL=main.c24dac86.chunk.js.map